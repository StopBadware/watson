@(details: ReviewDetails, user: User)
@import models.enums.ReviewStatus
@import models.enums.Role
@main("Review "+details.review.id) {
	<div class="review-nav">
	@defining(details.review.siblings) { sibs =>
		@defining(if (details.review.status.isOpen) (if (details.review.status.eq(ReviewStatus.PENDING_BAD)) "Pending" else "Open") else "Closed") { desc =>
		<a href="/reviews/@sibs("prev").getOrElse(details.review.id)" role="button" class="btn btn-default">Previous @desc</a>
		<a href="/reviews/@sibs("next").getOrElse(details.review.id)" role="button" class="btn btn-default">Next @desc</a>
		}
	}
	</div>
	
	<div id="review-summary" class="well well-lg">
		<h3>URI: <a href="/uris/@details.uri.id">@details.uri.uri</a></h3>
		<h4>Created: <span class="unixtime-full">@details.review.createdAt</span></h4>
		<h4>Status: <span id="status" class="sbw-red review-status enum">@details.review.status</span> 
		@if(details.review.status != ReviewStatus.NEW) {
		(<span id="status-updated" class="unixtime-full">@details.review.statusUpdatedAt</span>)
		}
		</h4>
		@if(user.hasRole(Role.REVIEWER)) {
		<button type="button" class="btn btn-default">Bad</button>
		<button type="button" class="btn btn-default">Clean</button>
		}
		@if(user.hasRole(Role.VERIFIER)) {
		<button type="button" class="btn btn-default">Send Back</button>
		<button type="button" class="btn btn-default">Close Bad</button>
		<button type="button" class="btn btn-default">Close Without Review</button>
		<button type="button" class="btn btn-default">Re-Open</button>
		}
		<div>
		@details.review.reviewTags.map { tagId =>
			<h4 class="tag">@details.tags(tagId)</h4>
		}
		</div>
	</div>
	
	<div id="review-test-data" class="well well-lg">
		<h4>TODO test data</h4>
	</div>
	
	<div id="" class="">
		<h2>url data</h2>
		@details.blacklistEvents.map { event =>
			<h4>@event</h4>			
		}
		@details.googleRescans.map { rescan =>
			<h4>@rescan</h4>			
		}
		<h4>safe browsing</h4>
		<h4>dsp</h4>
		<h4>vt</h4>
		<h4>scanner results</h4>
		<h4>cr</h4>
		<h4>domain related</h4>
		<h4>resolver info</h4>		
	</div>
	
	<div id="" class="">
		@details.reviewRequests.map { request =>
			<h4>@request</h4>			
		}
		<h4>current</h4>
		<h4>historical</h4>
	</div>
	
	<div id="" class="">
		@details.otherReviews.map { review =>
			<h4>@review</h4>			
		}
	</div>
}